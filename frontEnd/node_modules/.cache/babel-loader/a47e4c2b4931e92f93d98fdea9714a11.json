{"ast":null,"code":"var _jsxFileName = \"/Users/fokpoonkai/WebstormProjects/rental_apartment/src/conponents/WelcomePage/Pro_Login_Conponent/Pro_Login_Conponent.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from '';\nimport axios from 'axios';\nimport \"./Pro_Login_Conponent.css\";\nexport class Pro_Login_Conponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.usernameHandler = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n\n    this.passworkHandler = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.LoginHandler = () => {\n      if (this.state.username === \"\") {\n        this.setState({\n          warningmessage: \"username can't be empty\"\n        });\n      } else if (this.state.password === \"\") {\n        this.setState({\n          warningmessage: \"password can't be empty\"\n        });\n      } else {\n        axios.post('http://localhost:5000/proprietor/login', {\n          username: this.state.username,\n          password: this.state.password\n        }).then(response => {\n          //return from back-end\n          var hasUser = response.data.hasUser;\n\n          if (!hasUser) {\n            this.setState({\n              warningmessage: \"we don't have this user\"\n            });\n          } else {\n            //this.props.get_P_User(response.data.username);\n            //this.props.get_P_Token(response.data.token);\n            this.setState({\n              redirect: true\n            });\n            localStorage.setItem(\"p_username\", response.data.username);\n          }\n        }).then(() => {\n          if (this.state.redirect) {\n            //this.redirectHandler();    \n            console.log(\"test\");\n            this.props.history.push('/porpritor/p_dashboard');\n          }\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      redirect: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"pro_login_conponenet_bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Proprietor Login\"), React.createElement(\"input\", {\n      className: \"pro_login_conponenet_input\",\n      placeholder: \"Username\",\n      onChange: this.usernameHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"pro_login_conponenet_input\",\n      placeholder: \"Passwork\",\n      onChange: this.passworkHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), this.state.warningmessage, React.createElement(\"button\", {\n      onClick: this.LoginHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"signup\"));\n  }\n\n}\nexport default Pro_Login_Conponent;","map":{"version":3,"sources":["/Users/fokpoonkai/WebstormProjects/rental_apartment/src/conponents/WelcomePage/Pro_Login_Conponent/Pro_Login_Conponent.js"],"names":["React","Component","Redirect","axios","Pro_Login_Conponent","constructor","props","usernameHandler","event","setState","username","target","value","passworkHandler","password","LoginHandler","state","warningmessage","post","then","response","hasUser","data","redirect","localStorage","setItem","console","log","history","push","catch","err","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {Redirect} from ''\n\nimport axios from 'axios';\nimport \"./Pro_Login_Conponent.css\";\n\nexport class Pro_Login_Conponent extends Component {\n    \n    constructor(props)\n    {\n        super(props);\n        this.state = \n        {\n            username: \"\",\n            password:\"\",\n            redirect: false\n        }\n    }\n\n    usernameHandler = ( event ) =>\n    {\n        this.setState({username : event.target.value})\n    }\n\n    passworkHandler = ( event ) =>\n    {\n        this.setState({password : event.target.value})\n    }\n\n    LoginHandler = () =>\n    {\n        if(this.state.username ===\"\"){\n            this.setState({warningmessage:\"username can't be empty\"})\n        }\n        else if(this.state.password ===\"\")\n        {\n            this.setState({warningmessage:\"password can't be empty\"})\n        }\n        else\n        {\n            axios.post('http://localhost:5000/proprietor/login',{\n                username: this.state.username,\n                password: this.state.password\n            })\n            .then((response)=>{//return from back-end\n                var hasUser = response.data.hasUser;\n                if(!hasUser)\n                {\n                    this.setState({warningmessage: \"we don't have this user\"})\n                }\n                else\n                {            \n                  //this.props.get_P_User(response.data.username);\n                  //this.props.get_P_Token(response.data.token);\n                  this.setState({redirect: true});\n                  localStorage.setItem(\"p_username\" ,response.data.username)\n              }\n            })\n            .then(()=>{\n              if(this.state.redirect){  \n                  //this.redirectHandler();    \n                  console.log(\"test\")        \n                  this.props.history.push('/porpritor/p_dashboard');\n              }\n            })\n            .catch((err)=>{\n                console.log(err);\n            })\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"pro_login_conponenet_bg\">\n                <h3 >Proprietor Login</h3>\n                <input className=\"pro_login_conponenet_input\" placeholder=\"Username\" onChange={this.usernameHandler}></input>\n                <br/>\n                <input className=\"pro_login_conponenet_input\" placeholder=\"Passwork\" onChange={this.passworkHandler}></input>\n                <br/>\n                {this.state.warningmessage}\n                <button onClick={this.LoginHandler}>Login</button><button>signup</button>\n            </div>\n        )\n    }\n}\n\nexport default Pro_Login_Conponent\n"]},"metadata":{},"sourceType":"module"}